# mysql 分页
- 写后端接口，经常有这样的业务需求，写一个分页的接口，接口要求返回符合条件的记录总数，跟某一页的数据
- 当数据量小的时候，这个需求问题不大，但是当数据量大的时候，比如2000W+的数据怎么办呢？

## 获取总记录数
- 经常查询的sql统计缓存起来，比如redis中
- 定时更新
- 或者有insert的时候，更新total总数
- 使用的时候，直接去缓存获取就行

## 获取某一页的数据 比如获取1000w条记录之后的10条记录
- 我们默认该表有自增主键
- 分两步来完成
- 1, select id from table limit 1000w, 10   结果记为ids
- 2, select * from table where id in(ids)

## 使用上面的办法就能缓解大数据量分页接口的时间压力



